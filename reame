# Plot a radar chart with the negative reasons for three carriers
# Generate a dataframe with negative reasons rates per carrier for 3 carriers
neg_rev = pd.DataFrame(index=df['negativereason'].dropna().unique())
for air in ['Delta', 'Virgin America']:
    neg_rev[air] = df[df['airline'] == air]['negativereason'].value_counts(normalize=True)*100

# number of variable
categories = list(neg_rev.index)
N = len(categories)

# What will be the angle of each axis in the plot? (we divide the plot / number of variable)
angles = [n / float(N) * 2 * np.pi for n in range(N)]
angles += angles[:1]

# We are going to plot the first column of the data frame.
# But we need to repeat the first value to close the circular graph:
values = neg_rev.values
values = np.append(values, [values[0,:]], axis=0)
labels = neg_rev.columns.values
# Initialise the spider plot
ax = plt.subplot(111, polar=True)
# Draw one axe per variable + add labels
plt.xticks(angles[:-1], categories, color='grey', size=10)
# Draw ylabels
ax.set_rlabel_position(0)
plt.yticks([5,10,15,20,25], ["5","10","15",'20','25'], color="grey", size=10)
plt.ylim(0,40)
# Plot data
for y_arr, label in zip(values.T, labels):
    ax.plot(angles, y_arr, linewidth=1.5, linestyle='solid', label=label)
# Fill area
ax.fill(angles, values, ['b', 'o', 'green'], alpha=0.3)
plt.legend(loc='upper right', bbox_to_anchor=(0.1, 0.1),)

plt.title('Features of the Best Airline vs the Next Best', fontsize=18,);
# Show the graph
plt.show()




